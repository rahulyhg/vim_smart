<script>
    wx.ready(function () {
        /*分享给朋友*/
        if(JSON.parse('{$types}').indexOf('onMenuShareAppMessage')>-1){
            console.log('entry!');
            wx.onMenuShareAppMessage({
                title: '{$options.onMenuShareAppMessage.title}',
                desc: '{$options.onMenuShareAppMessage.desc}',
                link: decodeURIComponent('{$options.onMenuShareAppMessage.link}'),
                imgUrl: decodeURIComponent('{$options.onMenuShareAppMessage.imgUrl}'),
                trigger: function (res) {
                    console.log("点击分享：" +JSON.stringify(res));
                    // 用户确认分享后执行的回调函数
                },
                success: function (res) {
                    console.log("分享成功：" +JSON.stringify(res));
                    // 用户确认分享后执行的回调函数
                },
                cancel: function (res) {
                    console.log("取消分享：" +JSON.stringify(res));
                    // 用户取消分享后执行的回调函数
                },
                fail:function (res) {
                    console.log("分享失败：" +JSON.stringify(res));
                }
            });

        }

        // 2.2 监听“分享到朋友圈”按钮点击、自定义分享内容及分享结果接口
        if(JSON.parse('{$types}').indexOf('onMenuShareTimeline')>-1){
            wx.onMenuShareTimeline({
                title: '{$options.onMenuShareTimeline.title}',
                desc: '{$options.onMenuShareTimeline.desc}',
                link: '{$options.onMenuShareTimeline.link}',
                imgUrl: '{$options.onMenuShareTimeline.imgUrl}',
                trigger: function (res) {
                    console.log("点击分享：" +JSON.stringify(res));
                    // 用户确认分享后执行的回调函数
                },
                success: function (res) {
                    console.log("分享成功：" +JSON.stringify(res));
                    // 用户确认分享后执行的回调函数
                },
                cancel: function (res) {
                    console.log("取消分享：" +JSON.stringify(res));
                    // 用户取消分享后执行的回调函数
                },
                fail:function (res) {
                    console.log("分享失败：" +JSON.stringify(res));
                }
            });
            console.log('已注册获取“分享到朋友圈”状态事件');
        };

        // 2.3 监听“分享到QQ”按钮点击、自定义分享内容及分享结果接口
        if(JSON.parse('{$types}').indexOf('onMenuShareQQ')>-1){
            wx.onMenuShareQQ({
                title: '{$options.onMenuShareQQ.title}',
                desc: '{$options.onMenuShareQQ.desc}',
                link: '{$options.onMenuShareQQ.link}',
                imgUrl: '{$options.onMenuShareQQ.imgUrl}',
                trigger: function (res) {
                    console.log("点击分享：" +JSON.stringify(res));
                    // 用户确认分享后执行的回调函数
                },
                success: function (res) {
                    console.log("分享成功：" +JSON.stringify(res));
                    // 用户确认分享后执行的回调函数
                },
                cancel: function (res) {
                    console.log("取消分享：" +JSON.stringify(res));
                    // 用户取消分享后执行的回调函数
                },
                fail:function (res) {
                    console.log("分享失败：" +JSON.stringify(res));
                }
            });
            console.log('已注册获取“分享到 QQ”状态事件');
        };

        // 2.4 监听“分享到微博”按钮点击、自定义分享内容及分享结果接口
        if(JSON.parse('{$types}').indexOf('onMenuShareWeibo')>-1){
            wx.onMenuShareWeibo({
                title: '{$options.onMenuShareWeibo.title}',
                desc: '{$options.onMenuShareWeibo.desc}',
                link: '{$options.onMenuShareWeibo.link}',
                imgUrl: '{$options.onMenuShareWeibo.imgUrl}',
                trigger: function (res) {
                    console.log("点击分享：" +JSON.stringify(res));
                    // 用户确认分享后执行的回调函数
                },
                success: function (res) {
                    console.log("分享成功：" +JSON.stringify(res));
                    // 用户确认分享后执行的回调函数
                },
                cancel: function (res) {
                    console.log("取消分享：" +JSON.stringify(res));
                    // 用户取消分享后执行的回调函数
                },
                fail:function (res) {
                    console.log("分享失败：" +JSON.stringify(res));
                }
            });
            console.log('已注册获取“分享到微博”状态事件');
        };




    });

</script>